define("view/footer",function(){return function(a){a||(a={});var b,c=[],d=a.safe,e=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},e||(e=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<input type="text" class="message" /><button>Send</button>')}).call(this)}.call(a),a.safe=d,a.escape=e,c.join("")}}),define("view/header",function(){return function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){c.push('<span class="title">'),c.push(d(this.name)),c.push("</span>")}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),define("view/messages",function(){return function(a){a||(a={});var b,c=[],d=function(a){return a&&a.ecoSafe?a:"undefined"!=typeof a&&null!=a?f(a):""},e=a.safe,f=a.escape;return b=a.safe=function(a){if(a&&a.ecoSafe)return a;("undefined"==typeof a||null==a)&&(a="");var b=new String(a);return b.ecoSafe=!0,b},f||(f=a.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var a,b,e,f;for(c.push("<ul>\n"),f=this.msg,b=0,e=f.length;e>b;b++)a=f[b],c.push('\n  <li>\n    <span class="username">'),c.push(d(a.name)),c.push(':</span>\n    <span class="message">'),c.push(d(a.message)),c.push("</span>\n  </li>\n");c.push("\n</ul>")}).call(this)}.call(a),a.safe=e,a.escape=f,c.join("")}}),function(){var a={}.hasOwnProperty,b=function(b,c){function d(){this.constructor=b}for(var e in c)a.call(c,e)&&(b[e]=c[e]);return d.prototype=c.prototype,b.prototype=new d,b.__super__=c.prototype,b},c=[].slice,d=function(a,b){return function(){return a.apply(b,arguments)}};define("Chat",["jquery","Header","Messages","Footer","Controller"],function(a,c,d,e,f){var g;return g=function(a){function f(a,b,g){var h,i,j=this;f.__super__.constructor.apply(this,arguments),this.name=a,this.rtc=b,this.caller=g||this.rtc.call(a),this.rtc.on("chat",function(a){return j.name===a.from?j.receiveMessage({name:a.from,message:a.message}):void 0}),i=new c(a),this.messages=new d,h=new e(this.rtc.user),this.append(i.render()),this.append(this.messages.render()),this.append(h.render()),h.bind("sendMessage",function(a){return j.caller.chat(a.message),j.receiveMessage(a)})}return b(f,a),f.prototype.className="chat",f.prototype.receiveMessage=function(a){return this.messages.addMessage(a)},f}(f)}),define("Footer",["Controller","Events","view/footer"],function(a,c){var d;return d=function(a){function d(a){d.__super__.constructor.call(this),this.name=a}return b(d,a),d.include(c),d.prototype.template="view/footer",d.prototype.className="chat-footer",d.prototype.render=function(){var a,b=this;return d.__super__.render.apply(this,arguments),a=this.el.find(".message"),this.el.find("button").on("click",function(){var c;return c=a.val(),b.trigger("sendMessage",{message:c,name:b.name}),a.val("")}),a.on("keypress",function(c){return 13===c.keyCode?(b.trigger("sendMessage",{message:a.val(),name:b.name}),a.val("")):void 0}),this.el},d}(a)}),define("Header",["Controller","view/header"],function(a){var c;return c=function(a){function c(a){c.__super__.constructor.apply(this,arguments),this.name=a}return b(c,a),c.prototype.className="chat-header",c.prototype.template="view/header",c}(a)}),define("Messages",["Controller","view/messages"],function(a){var c;return c=function(a){function c(){c.__super__.constructor.apply(this,arguments),this.msg=[]}return b(c,a),c.prototype.className="chat-messages",c.prototype.template="view/messages",c.prototype.addMessage=function(a){return this.msg.push(a),this.render()},c}(a)}),requirejs.config({baseUrl:"js",paths:{holla:"holla.min"}}),require(["jquery","Chat","HollaClient"],function(a,b,c){return window.HollaClient=c,window.Chat=b}),define("Controller",["jquery"],function(a){var b;return b=function(){function b(){this.el||(this.el=a("<div/>")),this.className&&this.el.addClass(this.className),this.id&&this.el.attr("id",this.id)}return b.prototype.render=function(){var a;return this.template&&(a=require(this.template),this.el.html(a.call(this,this))),this.el},b.prototype.append=function(a){return this.el.append(a),this.el},b.include=function(a){var b,c;if(!a)throw new Error("include(obj) requires obj");for(b in a)c=a[b],this.prototype[b]=c;return this},b.extend=function(a){var b,c;if(!a)throw new Error("extend(obj) requires obj");for(b in a)c=a[b],this[b]=c;return this},b}()}),define("Events",function(){var a;return a={bind:function(a,b){var c;return c=this.hasOwnProperty("_callbacks")&&this._callbacks||(this._callbacks={}),c[a]||(c[a]=[]),c[a].push(b),this},trigger:function(){var a,b,d,e,f,g,h;if(a=1<=arguments.length?c.call(arguments,0):[],d=a.shift(),e=this.hasOwnProperty("_callbacks")&&(null!=(h=this._callbacks)?h[d]:void 0)){for(f=0,g=e.length;g>f&&(b=e[f],b.apply(this,a)!==!1);f++);return!0}}}}),define("HollaClient",["holla","Chat"],function(a,b){var c;return c=function(){function c(b){this.receiveCall=d(this.receiveCall,this),this.createChat=d(this.createChat,this),this.user=b,this.rtc=a.createClient({host:"localhost:8080"}),this.rtc.register(b),this.rtc.on("call",this.receiveCall)}return c.prototype.createChat=function(a){var c,d;return c=new b(a.user,this.rtc,a),d=$("#chat"),d.append(c.render())},c.prototype.receiveCall=function(a){return this.createChat(a)},c.prototype.getRTC=function(){return this.rtc},c}()})}.call(this);